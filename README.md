TODO:
- native mode
- createall/destroyall api
- tests