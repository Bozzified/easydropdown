(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["easydropdown"] = factory();
	else
		root["easydropdown"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/umd.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/custom-event-polyfill/custom-event-polyfill.js":
/*!*********************************************************************!*\
  !*** ./node_modules/custom-event-polyfill/custom-event-polyfill.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// Polyfill for creating CustomEvents on IE9/10/11

// code pulled from:
// https://github.com/d4tocchini/customevent-polyfill
// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill

try {
    var ce = new window.CustomEvent('test');
    ce.preventDefault();
    if (ce.defaultPrevented !== true) {
        // IE has problems with .preventDefault() on custom events
        // http://stackoverflow.com/questions/23349191
        throw new Error('Could not prevent default');
    }
} catch(e) {
  var CustomEvent = function(event, params) {
    var evt, origPrevent;
    params = params || {
      bubbles: false,
      cancelable: false,
      detail: undefined
    };

    evt = document.createEvent("CustomEvent");
    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
    origPrevent = evt.preventDefault;
    evt.preventDefault = function () {
      origPrevent.call(this);
      try {
        Object.defineProperty(this, 'defaultPrevented', {
          get: function () {
            return true;
          }
        });
      } catch(e) {
        this.defaultPrevented = true;
      }
    };
    return evt;
  };

  CustomEvent.prototype = window.Event.prototype;
  window.CustomEvent = CustomEvent; // expose definition to window
}


/***/ }),

/***/ "./node_modules/helpful-merge/dist/Config.js":
/*!***************************************************!*\
  !*** ./node_modules/helpful-merge/dist/Config.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ArrayStrategy_1 = __webpack_require__(/*! ./Constants/ArrayStrategy */ "./node_modules/helpful-merge/dist/Constants/ArrayStrategy.js");
var Messages = __webpack_require__(/*! ./Messages */ "./node_modules/helpful-merge/dist/Messages.js");
var Config = /** @class */ (function () {
    function Config() {
        this.deep = false;
        this.useReferenceIfTargetUnset = false;
        this.useReferenceIfArray = false;
        this.includeReadOnly = false;
        this.includeNonEmurable = false;
        this.arrayStrategy = ArrayStrategy_1.default.REPLACE;
        this.errorMessage = Messages.MERGE_ERROR;
        Object.seal(this);
    }
    return Config;
}());
exports.default = Config;
//# sourceMappingURL=Config.js.map

/***/ }),

/***/ "./node_modules/helpful-merge/dist/Constants/ArrayStrategy.js":
/*!********************************************************************!*\
  !*** ./node_modules/helpful-merge/dist/Constants/ArrayStrategy.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ArrayStrategy;
(function (ArrayStrategy) {
    ArrayStrategy["PUSH"] = "PUSH";
    ArrayStrategy["REPLACE"] = "REPLACE";
})(ArrayStrategy || (ArrayStrategy = {}));
exports.default = ArrayStrategy;
//# sourceMappingURL=ArrayStrategy.js.map

/***/ }),

/***/ "./node_modules/helpful-merge/dist/FluentMerge.js":
/*!********************************************************!*\
  !*** ./node_modules/helpful-merge/dist/FluentMerge.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var merge_1 = __webpack_require__(/*! ./merge */ "./node_modules/helpful-merge/dist/merge.js");
var FluentMerge = /** @class */ (function () {
    function FluentMerge() {
        this.target = null;
        this.sources = [];
        this.config = {};
    }
    /**
     * Supplies a fluent merge instance with a target object to merge into and return.
     */
    FluentMerge.prototype.to = function (target) {
        this.target = target;
        return this;
    };
    /**
     * Supplies a fluent merge instance with one or more source objects to merge from, in right to left order.
     */
    FluentMerge.prototype.from = function () {
        var sources = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            sources[_i] = arguments[_i];
        }
        this.sources = sources;
        return this;
    };
    /**
     * Supplies a fluent merge instance with a configuration object of one or more options.
     */
    FluentMerge.prototype.with = function (options) {
        this.config = options;
        return this;
    };
    /**
     * Executes a fluent merge instance, merging all provided sources into the
     * target, as per any provided configuration, and returning a reference to
     * the target.
     */
    FluentMerge.prototype.exec = function () {
        var _this = this;
        return this.sources.reduce(function (target, source) { return merge_1.default(target, source, _this.config); }, this.target || {});
    };
    return FluentMerge;
}());
exports.default = FluentMerge;
//# sourceMappingURL=FluentMerge.js.map

/***/ }),

/***/ "./node_modules/helpful-merge/dist/Messages.js":
/*!*****************************************************!*\
  !*** ./node_modules/helpful-merge/dist/Messages.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.MERGE_ERROR = function (offender, suggestion) {
    if (suggestion === void 0) { suggestion = ''; }
    return "Unknown property \"" + offender + "\"" + (suggestion ? ". Did you mean \"" + suggestion + "\"?" : '');
};
exports.TYPE_ERROR_TARGET = function (target) {
    return "[Helpful Merge] Target \"" + target + "\" must be a valid object";
};
exports.TYPE_ERROR_SOURCE = function (source) {
    return "[Helpful Merge] Source \"" + source + "\" must be a valid object";
};
exports.INVALID_ARRAY_STRATEGY = function (strategy) {
    return "[Helpful Merge] Invalid array strategy \"" + strategy + "\"";
};
//# sourceMappingURL=Messages.js.map

/***/ }),

/***/ "./node_modules/helpful-merge/dist/handleMergeError.js":
/*!*************************************************************!*\
  !*** ./node_modules/helpful-merge/dist/handleMergeError.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function handleMergeError(err, target, offendingKey, message) {
    // Rethrow if any of the following:
    // - offending key already exists on target
    // - object not sealed
    // - is extensible
    // - error not a TypeError
    if (Object.hasOwnProperty.call(target, offendingKey) ||
        !Object.isSealed(target) ||
        Object.isExtensible(target) ||
        !(err instanceof TypeError))
        throw err;
    var reducer = reduceBestMatch.bind(null, offendingKey, offendingKey.toLowerCase());
    var primer = { key: '', delta: Infinity, totalMatching: 0 };
    // Iterate through keys in target, for each key, compare with
    // the offending key. Greatest number of matching characters wins.
    var bestMatch = Object.keys(target).reduce(reducer, primer);
    var suggestion = bestMatch && bestMatch.totalMatching > 1 ? bestMatch.key : '';
    throw new TypeError(message(offendingKey, suggestion));
}
/**
 * Compares current key with current best match.
 */
function reduceBestMatch(offendingKeyLower, offendingKey, currBestMatch, currKey) {
    var totalMatching = getTotalMatching(currKey.toLowerCase(), offendingKeyLower);
    var delta = Math.abs(currKey.length - offendingKey.length);
    if (totalMatching > currBestMatch.totalMatching ||
        (totalMatching === currBestMatch.totalMatching && delta < currBestMatch.delta)) {
        // If a greater number of matching characters, or the same
        // number, but a lesser delta, usurp the best match
        return { key: currKey, delta: delta, totalMatching: totalMatching };
    }
    return currBestMatch;
}
/**
 * Returns the number of common, consecutive characters
 * between two strings.
 */
function getTotalMatching(possibleKey, offendingKey) {
    var longer = possibleKey.length > offendingKey.length ? possibleKey : offendingKey;
    var shorter = longer === possibleKey ? offendingKey : possibleKey;
    var leftPointer = 0;
    var leftInnerPointer = 0;
    var leftTotalMatching = 0;
    var lastCommonIndex = -1;
    for (; leftPointer < longer.length; leftPointer++) {
        while (leftTotalMatching === 0 &&
            longer[leftPointer] !== shorter[leftInnerPointer] &&
            leftInnerPointer < shorter.length) {
            // No match at present, move innerPointer through all possible
            // indices until a match is found
            leftInnerPointer++;
        }
        if (longer[leftPointer] === shorter[leftInnerPointer]) {
            // Match found
            if (lastCommonIndex !== leftPointer - 1) {
                // If beginning of a new match, reset total common
                leftTotalMatching = 0;
            }
            lastCommonIndex = leftPointer;
            leftTotalMatching++;
            leftInnerPointer++;
            // Whole word matched, end
            if (leftTotalMatching === shorter.length)
                break;
        }
        else if (leftTotalMatching > 1) {
            // No match, but at least two common characters found, end
            break;
        }
        else {
            // No match at this index, reset
            leftTotalMatching = leftInnerPointer = 0;
        }
    }
    lastCommonIndex = -1;
    var rightPointer = 0;
    var rightInnerPointer = 0;
    var rightTotalMatching = 0;
    var longerLastIndex = longer.length - 1;
    var shorterLastIndex = shorter.length - 1;
    // As above, but from right to left
    for (; rightPointer < longer.length - leftPointer; rightPointer++) {
        while (rightTotalMatching === 0 &&
            longer[longerLastIndex - rightPointer] !== shorter[shorterLastIndex - rightInnerPointer] &&
            rightInnerPointer < shorter.length) {
            rightInnerPointer++;
        }
        if (longer[longerLastIndex - rightPointer] === shorter[shorterLastIndex - rightInnerPointer]) {
            if (lastCommonIndex !== rightPointer - 1)
                rightTotalMatching = 0;
            lastCommonIndex = rightPointer;
            rightTotalMatching++;
            rightInnerPointer++;
        }
        else if (rightTotalMatching > 1) {
            break;
        }
        else {
            rightTotalMatching = rightInnerPointer = 0;
        }
    }
    return Math.min(shorter.length, leftTotalMatching + rightTotalMatching);
}
exports.getTotalMatching = getTotalMatching;
exports.default = handleMergeError;
//# sourceMappingURL=handleMergeError.js.map

/***/ }),

/***/ "./node_modules/helpful-merge/dist/index.js":
/*!**************************************************!*\
  !*** ./node_modules/helpful-merge/dist/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var merge_1 = __webpack_require__(/*! ./merge */ "./node_modules/helpful-merge/dist/merge.js");
var ArrayStrategy_1 = __webpack_require__(/*! ./Constants/ArrayStrategy */ "./node_modules/helpful-merge/dist/Constants/ArrayStrategy.js");
exports.ArrayStrategy = ArrayStrategy_1.default;
exports.default = merge_1.default;
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/helpful-merge/dist/merge.js":
/*!**************************************************!*\
  !*** ./node_modules/helpful-merge/dist/merge.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Config_1 = __webpack_require__(/*! ./Config */ "./node_modules/helpful-merge/dist/Config.js");
var ArrayStrategy_1 = __webpack_require__(/*! ./Constants/ArrayStrategy */ "./node_modules/helpful-merge/dist/Constants/ArrayStrategy.js");
var FluentMerge_1 = __webpack_require__(/*! ./FluentMerge */ "./node_modules/helpful-merge/dist/FluentMerge.js");
var handleMergeError_1 = __webpack_require__(/*! ./handleMergeError */ "./node_modules/helpful-merge/dist/handleMergeError.js");
var Messages = __webpack_require__(/*! ./Messages */ "./node_modules/helpful-merge/dist/Messages.js");
function merge(target, source, options) {
    if (options === void 0) { options = null; }
    var sourceKeys = [];
    var config;
    if (options instanceof Config_1.default) {
        config = options;
    }
    else {
        config = new Config_1.default();
    }
    if (typeof options === 'boolean' && options === true) {
        config.deep = true;
    }
    else if (options && config !== options && typeof options === 'object') {
        merge(config, options);
        if ([ArrayStrategy_1.default.PUSH, ArrayStrategy_1.default.REPLACE].indexOf(config.arrayStrategy) < 0) {
            throw RangeError(Messages.INVALID_ARRAY_STRATEGY(config.arrayStrategy));
        }
    }
    if (!target || typeof target !== 'object') {
        throw new TypeError(Messages.TYPE_ERROR_TARGET(target));
    }
    if (!source || typeof source !== 'object') {
        throw new TypeError(Messages.TYPE_ERROR_SOURCE(source));
    }
    if (Array.isArray(source)) {
        if (config.arrayStrategy === ArrayStrategy_1.default.PUSH) {
            // Merge arrays via push()
            target.push.apply(target, source);
            return target;
        }
        for (var i = 0; i < source.length; i++) {
            sourceKeys.push(i.toString());
        }
    }
    else {
        sourceKeys = Object.getOwnPropertyNames(source);
    }
    for (var _i = 0, sourceKeys_1 = sourceKeys; _i < sourceKeys_1.length; _i++) {
        var key = sourceKeys_1[_i];
        var descriptor = Object.getOwnPropertyDescriptor(source, key);
        // Skip read-only properties
        if (typeof descriptor.get === 'function' && !descriptor.set && !config.includeReadOnly)
            continue;
        // Skip non-enumerable properties
        if (!descriptor.enumerable && !config.includeNonEmurable)
            continue;
        if (!config.deep ||
            typeof source[key] !== 'object' ||
            source[key] === null ||
            (Array.isArray(source[key]) && config.useReferenceIfArray) ||
            (!target[key] && config.useReferenceIfTargetUnset)) {
            // If:
            // - Shallow merge
            // - All non-object primatives
            // - Null pointers
            // - Arrays, if `useReferenceIfArray` set
            // - Target prop null or undefined and `useRererenceIfTargetUnset` set
            try {
                target[key] = source[key];
            }
            catch (err) {
                handleMergeError_1.default(err, target, key, config.errorMessage);
            }
        }
        else {
            // Deep merge objects/arrays
            if (!Object.prototype.hasOwnProperty.call(target, key) || target[key] === null) {
                // If property does not exist on target, instantiate an empty
                // object or array to merge into
                try {
                    target[key] = Array.isArray(source[key]) ? [] : {};
                }
                catch (err) {
                    handleMergeError_1.default(err, target, key, config.errorMessage);
                }
            }
            // Recursively deep copy objects or arrays
            merge(target[key], source[key], config);
        }
    }
    return target;
}
var createFluent = function (method) { return function () {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    return (_a = new FluentMerge_1.default())[method].apply(_a, args);
    var _a;
}; };
Object
    .keys(FluentMerge_1.default.prototype)
    .forEach(function (method) { return merge[method] = createFluent(method); });
exports.default = merge;
//# sourceMappingURL=merge.js.map

/***/ }),

/***/ "./src/Config/Behavior.ts":
/*!********************************!*\
  !*** ./src/Config/Behavior.ts ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Behavior = /** @class */ (function () {
    function Behavior() {
        this.showPlaceholderWhenOpen = false;
        this.openOnFocus = false;
        this.closeOnSelect = false;
        this.useNativeUiOnMobile = true;
        this.loop = false;
        this.clampMaxVisibleOptions = true;
        this.reactToUpdates = false;
        this.maxVisibleOptions = 15;
        Object.seal(this);
    }
    return Behavior;
}());
exports.default = Behavior;


/***/ }),

/***/ "./src/Config/Callbacks.ts":
/*!*********************************!*\
  !*** ./src/Config/Callbacks.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Callbacks = /** @class */ (function () {
    function Callbacks() {
        this.onOpen = null;
        this.onClose = null;
        this.onSelect = null;
        Object.seal(this);
    }
    return Callbacks;
}());
exports.default = Callbacks;


/***/ }),

/***/ "./src/Config/ClassNames.ts":
/*!**********************************!*\
  !*** ./src/Config/ClassNames.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ClassNames = /** @class */ (function () {
    function ClassNames() {
        this.root = 'edd';
        this.rootOpen = 'edd-open';
        this.rootOpenAbove = 'edd-open-above';
        this.rootOpenBelow = 'edd-open-below';
        this.rootDisabled = 'edd-disabled';
        this.rootInvalid = 'edd-invalid';
        this.rootFocused = 'edd-focused';
        this.rootHasValue = 'edd-has-value';
        this.rootUseNative = 'edd-use-native';
        this.gradientTop = 'edd-gradient-top';
        this.gradientBottom = 'edd-gradient-bottom';
        this.head = 'edd-head';
        this.value = 'edd-value';
        this.arrow = 'edd-arrow';
        this.select = 'edd-select';
        this.body = 'edd-body';
        this.bodyScrollable = 'edd-body-scrollable';
        this.bodyAtTop = 'edd-body-at-top';
        this.bodyAtBottom = 'edd-body-at-bottom';
        this.itemsList = 'edd-items-list';
        this.group = 'edd-group';
        this.groupDisabled = 'edd-group-disabled';
        this.groupHasLabel = 'edd-group-has-label';
        this.groupLabel = 'edd-group-label';
        this.option = 'edd-option';
        this.optionDisabled = 'edd-option-disabled';
        this.optionFocused = 'edd-option-focused';
        this.optionSelected = 'edd-option-selected';
        Object.seal(this);
    }
    return ClassNames;
}());
exports.default = ClassNames;


/***/ }),

/***/ "./src/Config/Config.ts":
/*!******************************!*\
  !*** ./src/Config/Config.ts ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Behavior_1 = __webpack_require__(/*! ./Behavior */ "./src/Config/Behavior.ts");
var Callbacks_1 = __webpack_require__(/*! ./Callbacks */ "./src/Config/Callbacks.ts");
var ClassNames_1 = __webpack_require__(/*! ./ClassNames */ "./src/Config/ClassNames.ts");
var Config = /** @class */ (function () {
    function Config() {
        this.callbacks = new Callbacks_1.default();
        this.classNames = new ClassNames_1.default();
        this.behavior = new Behavior_1.default();
        Object.seal(this);
    }
    return Config;
}());
exports.default = Config;


/***/ }),

/***/ "./src/Easydropdown/Easydropdown.ts":
/*!******************************************!*\
  !*** ./src/Easydropdown/Easydropdown.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var helpful_merge_1 = __webpack_require__(/*! helpful-merge */ "./node_modules/helpful-merge/dist/index.js");
var Config_1 = __webpack_require__(/*! ../Config/Config */ "./src/Config/Config.ts");
var bindEvents_1 = __webpack_require__(/*! ../Events/bindEvents */ "./src/Events/bindEvents.ts");
var Renderer_1 = __webpack_require__(/*! ../Renderer/Renderer */ "./src/Renderer/Renderer.ts");
var detectBodyCollision_1 = __webpack_require__(/*! ../Shared/Util/detectBodyCollision */ "./src/Shared/Util/detectBodyCollision.ts");
var detectIsScrollable_1 = __webpack_require__(/*! ../Shared/Util/detectIsScrollable */ "./src/Shared/Util/detectIsScrollable.ts");
var pollForSelectChange_1 = __webpack_require__(/*! ../Shared/Util/pollForSelectChange */ "./src/Shared/Util/pollForSelectChange.ts");
var pollForSelectMutation_1 = __webpack_require__(/*! ../Shared/Util/pollForSelectMutation */ "./src/Shared/Util/pollForSelectMutation.ts");
var setGeometry_1 = __webpack_require__(/*! ../Shared/Util/setGeometry */ "./src/Shared/Util/setGeometry.ts");
var closeOthers_1 = __webpack_require__(/*! ../State/InjectedActions/closeOthers */ "./src/State/InjectedActions/closeOthers.ts");
var scrollToView_1 = __webpack_require__(/*! ../State/InjectedActions/scrollToView */ "./src/State/InjectedActions/scrollToView.ts");
var StateManager_1 = __webpack_require__(/*! ../State/StateManager */ "./src/State/StateManager.ts");
var StateMapper_1 = __webpack_require__(/*! ../State/StateMapper */ "./src/State/StateMapper.ts");
var cache_1 = __webpack_require__(/*! ./cache */ "./src/Easydropdown/cache.ts");
var Timers_1 = __webpack_require__(/*! ./Timers */ "./src/Easydropdown/Timers.ts");
var Easydropdown = /** @class */ (function () {
    function Easydropdown(selectElement, options) {
        this.config = helpful_merge_1.default(new Config_1.default(), options, true);
        this.state = StateMapper_1.default.mapFromSelect(selectElement, this.config);
        this.renderer = new Renderer_1.default(this.config.classNames);
        this.dom = this.renderer.render(this.state, selectElement);
        this.timers = new Timers_1.default();
        this.actions = StateManager_1.default.proxyActions(this.state, {
            closeOthers: closeOthers_1.default.bind(null, this, cache_1.default),
            scrollToView: scrollToView_1.default.bind(null, this.dom, this.timers)
        }, this.handleStateUpdate.bind(this));
        this.eventBindings = bindEvents_1.default({
            actions: this.actions,
            config: this.config,
            dom: this.dom,
            state: this.state,
            timers: this.timers
        });
        this.timers.pollChangeIntervalId = pollForSelectChange_1.default(this.dom.select, this.state, this.actions);
        if (this.config.behavior.reactToUpdates) {
            this.timers.pollMutationIntervalId = pollForSelectMutation_1.default(this.dom.select, this.state, this.refresh.bind(this));
        }
        this.init();
    }
    Object.defineProperty(Easydropdown.prototype, "selectElement", {
        get: function () {
            return this.dom.select;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Easydropdown.prototype, "value", {
        get: function () {
            return this.state.value;
        },
        set: function (nextValue) {
            if (typeof nextValue !== 'string') {
                throw new TypeError('[EasyDropDown] Provided value not a valid string');
            }
            this.dom.select.value = nextValue;
        },
        enumerable: true,
        configurable: true
    });
    Easydropdown.prototype.open = function () {
        var _this = this;
        this.actions.open(detectBodyCollision_1.default(this.state, this.dom, this.config), function () { return detectIsScrollable_1.default(_this.dom); }, this.dom.optionHeight);
    };
    Easydropdown.prototype.close = function () {
        this.actions.close();
    };
    Easydropdown.prototype.refresh = function () {
        this.state = helpful_merge_1.default(this.state, StateMapper_1.default.mapFromSelect(this.dom.select, this.config));
        this.renderer.update(this.state, 'groups');
        this.dom.group.length = this.dom.option.length = 0;
        Renderer_1.default.queryDomRefs(this.dom, ['group', 'option']);
    };
    Easydropdown.prototype.destroy = function () {
        this.timers.clear();
        this.eventBindings.forEach(function (binding) { return binding.unbind(); });
        this.renderer.destroy();
        var cacheIndex = cache_1.default.indexOf(this);
        cache_1.default.splice(cacheIndex, 1);
    };
    Easydropdown.prototype.init = function () {
        setGeometry_1.default(this.state, this.actions, this.dom);
    };
    Easydropdown.prototype.handleStateUpdate = function (state, key) {
        var callbacks = this.config.callbacks;
        var cb;
        var arg;
        this.renderer.update(state, key);
        switch (key) {
            case 'bodyStatus':
                if (state.isOpen) {
                    cb = callbacks.onOpen;
                }
                else {
                    cb = callbacks.onClose;
                }
                break;
            case 'selectedIndex':
                cb = callbacks.onSelect;
                arg = state.value;
                break;
        }
        if (typeof cb === 'function')
            cb(arg);
    };
    return Easydropdown;
}());
exports.default = Easydropdown;


/***/ }),

/***/ "./src/Easydropdown/EasydropdownFacade.ts":
/*!************************************************!*\
  !*** ./src/Easydropdown/EasydropdownFacade.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var EasydropdownFacade = /** @class */ (function () {
    function EasydropdownFacade(implementation) {
        /**
         * Programmatically opens the dropdown menu.
         */
        this.open = implementation.open.bind(implementation);
        /**
         * Programmatically closes the dropdown menu.
         */
        this.close = implementation.close.bind(implementation);
        /**
         * Rebuilds the EasyDropDown instance in response to
         * options being added or removed.
         */
        this.refresh = implementation.refresh.bind(implementation);
        /**
         * Destroys the EasyDropDown instance, unbinding all event handlers
         * and reverting the provided <select> to its original state.
         */
        this.destroy = implementation.destroy.bind(implementation);
        Object.defineProperties(this, {
            value: {
                get: function () { return implementation.value; },
                set: function (nextValue) { return implementation.value = nextValue; }
            }
        });
    }
    return EasydropdownFacade;
}());
exports.default = EasydropdownFacade;


/***/ }),

/***/ "./src/Easydropdown/Timers.ts":
/*!************************************!*\
  !*** ./src/Easydropdown/Timers.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Timers = /** @class */ (function () {
    function Timers() {
    }
    Timers.prototype.clear = function () {
        var _this = this;
        Object.keys(this).forEach(function (key) { return window.clearInterval(_this[key]); });
    };
    return Timers;
}());
exports.default = Timers;


/***/ }),

/***/ "./src/Easydropdown/cache.ts":
/*!***********************************!*\
  !*** ./src/Easydropdown/cache.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var cache = [];
exports.default = cache;


/***/ }),

/***/ "./src/Easydropdown/factory.ts":
/*!*************************************!*\
  !*** ./src/Easydropdown/factory.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var cache_1 = __webpack_require__(/*! ./cache */ "./src/Easydropdown/cache.ts");
var Easydropdown_1 = __webpack_require__(/*! ./Easydropdown */ "./src/Easydropdown/Easydropdown.ts");
var EasydropdownFacade_1 = __webpack_require__(/*! ./EasydropdownFacade */ "./src/Easydropdown/EasydropdownFacade.ts");
function factory(selectElementOrSelector, options) {
    if (options === void 0) { options = {}; }
    var selectElement = selectElementOrSelector;
    if (typeof selectElementOrSelector === 'string') {
        selectElement = document.querySelector(selectElementOrSelector);
    }
    if (!(selectElement instanceof HTMLSelectElement)) {
        throw new TypeError('[EasyDropDown] Invalid select element provided');
    }
    for (var _i = 0, cache_2 = cache_1.default; _i < cache_2.length; _i++) {
        var cachedInstance = cache_2[_i];
        if (cachedInstance.selectElement === selectElement) {
            return new EasydropdownFacade_1.default(cachedInstance);
        }
    }
    var instance = new Easydropdown_1.default(selectElement, options);
    // @ts-ignore
    cache_1.default.push(instance);
    return new EasydropdownFacade_1.default(instance);
}
function decorateFactory(factoryFn) {
    factoryFn.all = function (options) {
        if (options === void 0) { options = {}; }
        var selects = document.querySelectorAll('select');
        Array.prototype.forEach.call(selects, function (select) {
            var instance = factory(select, options);
            return instance;
        });
    };
    factoryFn.destroy = function () {
        var cacheCopy = cache_1.default.slice();
        cacheCopy.forEach(function (instance) { return instance.destroy(); });
    };
    return factoryFn;
}
var decoratedFactory = decorateFactory(factory);
exports.default = decoratedFactory;


/***/ }),

/***/ "./src/Events/Constants/KeyCodes.ts":
/*!******************************************!*\
  !*** ./src/Events/Constants/KeyCodes.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.UP = 38;
exports.DOWN = 40;
exports.SPACE = 32;
exports.ENTER = 13;
exports.ESC = 27;


/***/ }),

/***/ "./src/Events/Constants/Selectors.ts":
/*!*******************************************!*\
  !*** ./src/Events/Constants/Selectors.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.OPTION = '[data-ref="option"]';


/***/ }),

/***/ "./src/Events/EventBinding.ts":
/*!************************************!*\
  !*** ./src/Events/EventBinding.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var helpful_merge_1 = __webpack_require__(/*! helpful-merge */ "./node_modules/helpful-merge/dist/index.js");
var EventBinding = /** @class */ (function () {
    function EventBinding(eventBindingRaw) {
        this.type = '';
        this.target = null;
        this.debounce = 0;
        this.throttle = 0;
        this.handler = null;
        this.boundHandler = null;
        this.passive = false;
        helpful_merge_1.default(this, eventBindingRaw);
        Object.seal(this);
    }
    EventBinding.prototype.unbind = function () {
        if (!this.target)
            return;
        this.target.removeEventListener(this.type, this.boundHandler);
    };
    return EventBinding;
}());
exports.default = EventBinding;


/***/ }),

/***/ "./src/Events/Handlers/handleBodyClick.ts":
/*!************************************************!*\
  !*** ./src/Events/Handlers/handleBodyClick.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var closestParent_1 = __webpack_require__(/*! ../../Shared/Util/closestParent */ "./src/Shared/Util/closestParent.ts");
var Selectors = __webpack_require__(/*! ../Constants/Selectors */ "./src/Events/Constants/Selectors.ts");
function handleBodyClick(e, _a) {
    var state = _a.state, actions = _a.actions, dom = _a.dom;
    e.stopPropagation();
    var option = closestParent_1.default(e.target, Selectors.OPTION, true);
    if (!option)
        return;
    var optionIndex = Array.prototype.indexOf.call(dom.option, option);
    actions.selectOption(optionIndex);
}
exports.default = handleBodyClick;


/***/ }),

/***/ "./src/Events/Handlers/handleBodyMouseover.ts":
/*!****************************************************!*\
  !*** ./src/Events/Handlers/handleBodyMouseover.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var closestParent_1 = __webpack_require__(/*! ../../Shared/Util/closestParent */ "./src/Shared/Util/closestParent.ts");
var Selectors = __webpack_require__(/*! ../Constants/Selectors */ "./src/Events/Constants/Selectors.ts");
function handleBodyMouseover(e, _a) {
    var state = _a.state, actions = _a.actions, dom = _a.dom;
    e.stopPropagation();
    var option = closestParent_1.default(e.target, Selectors.OPTION, true);
    if (!option || state.isKeying)
        return;
    var optionIndex = Array.prototype.indexOf.call(dom.option, option);
    actions.focusOption(optionIndex);
}
exports.default = handleBodyMouseover;


/***/ }),

/***/ "./src/Events/Handlers/handleHeadClick.ts":
/*!************************************************!*\
  !*** ./src/Events/Handlers/handleHeadClick.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var detectBodyCollision_1 = __webpack_require__(/*! ../../Shared/Util/detectBodyCollision */ "./src/Shared/Util/detectBodyCollision.ts");
var detectIsScrollable_1 = __webpack_require__(/*! ../../Shared/Util/detectIsScrollable */ "./src/Shared/Util/detectIsScrollable.ts");
function handleHeadClick(e, _a) {
    var state = _a.state, actions = _a.actions, dom = _a.dom, config = _a.config;
    if (state.isUseNativeMode)
        return;
    e.stopPropagation();
    if (state.isClosed) {
        actions.open(detectBodyCollision_1.default(state, dom, config), function () { return detectIsScrollable_1.default(dom); }, dom.optionHeight);
        dom.select.focus();
    }
    else {
        actions.close();
    }
}
exports.default = handleHeadClick;


/***/ }),

/***/ "./src/Events/Handlers/handleItemsListScroll.ts":
/*!******************************************************!*\
  !*** ./src/Events/Handlers/handleItemsListScroll.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function handleItemsListScroll(e, _a) {
    var state = _a.state, actions = _a.actions, dom = _a.dom;
    e.stopPropagation();
    var _b = dom.itemsList, offsetHeight = _b.offsetHeight, scrollHeight = _b.scrollHeight, scrollTop = _b.scrollTop;
    if (scrollTop === 0) {
        actions.topOut();
    }
    else if (scrollTop === scrollHeight - offsetHeight) {
        actions.bottomOut();
    }
    else {
        actions.scroll();
    }
}
exports.default = handleItemsListScroll;


/***/ }),

/***/ "./src/Events/Handlers/handleSelectBlur.ts":
/*!*************************************************!*\
  !*** ./src/Events/Handlers/handleSelectBlur.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function handleSelectBlur(e, _a) {
    var actions = _a.actions, state = _a.state;
    if (state.isKeying)
        return;
    actions.blur();
}
exports.default = handleSelectBlur;


/***/ }),

/***/ "./src/Events/Handlers/handleSelectFocus.ts":
/*!**************************************************!*\
  !*** ./src/Events/Handlers/handleSelectFocus.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var detectBodyCollision_1 = __webpack_require__(/*! ../../Shared/Util/detectBodyCollision */ "./src/Shared/Util/detectBodyCollision.ts");
var detectIsScrollable_1 = __webpack_require__(/*! ../../Shared/Util/detectIsScrollable */ "./src/Shared/Util/detectIsScrollable.ts");
function handleSelectFocus(e, _a) {
    var actions = _a.actions, config = _a.config, dom = _a.dom, state = _a.state;
    actions.focus();
    if (config.behavior.openOnFocus && !state.isUseNativeMode) {
        actions.open(detectBodyCollision_1.default(state, dom, config), function () { return detectIsScrollable_1.default(dom); }, dom.optionHeight);
    }
}
exports.default = handleSelectFocus;


/***/ }),

/***/ "./src/Events/Handlers/handleSelectInvalid.ts":
/*!****************************************************!*\
  !*** ./src/Events/Handlers/handleSelectInvalid.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function handleSelectInvalid(e, _a) {
    var actions = _a.actions, config = _a.config, dom = _a.dom;
    actions.invalidate();
}
exports.default = handleSelectInvalid;


/***/ }),

/***/ "./src/Events/Handlers/handleSelectKeydown.ts":
/*!****************************************************!*\
  !*** ./src/Events/Handlers/handleSelectKeydown.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var detectBodyCollision_1 = __webpack_require__(/*! ../../Shared/Util/detectBodyCollision */ "./src/Shared/Util/detectBodyCollision.ts");
var detectIsScrollable_1 = __webpack_require__(/*! ../../Shared/Util/detectIsScrollable */ "./src/Shared/Util/detectIsScrollable.ts");
var killSelectReaction_1 = __webpack_require__(/*! ../../Shared/Util/killSelectReaction */ "./src/Shared/Util/killSelectReaction.ts");
var KeyCodes = __webpack_require__(/*! ../Constants/KeyCodes */ "./src/Events/Constants/KeyCodes.ts");
var handleSelectKeydownDown_1 = __webpack_require__(/*! ./handleSelectKeydownDown */ "./src/Events/Handlers/handleSelectKeydownDown.ts");
var handleSelectKeydownUp_1 = __webpack_require__(/*! ./handleSelectKeydownUp */ "./src/Events/Handlers/handleSelectKeydownUp.ts");
function handleSelectKeydown(e, handlerParams) {
    var keyCode = e.keyCode, target = e.target;
    var state = handlerParams.state, actions = handlerParams.actions, dom = handlerParams.dom, config = handlerParams.config;
    if (state.isUseNativeMode || state.isDisabled)
        return;
    switch (keyCode) {
        case KeyCodes.DOWN:
            handleSelectKeydownDown_1.default(e, handlerParams);
            break;
        case KeyCodes.UP:
            handleSelectKeydownUp_1.default(e, handlerParams);
            break;
        case KeyCodes.SPACE:
            if (state.isSearching) {
                e.stopPropagation();
                return;
            }
        case KeyCodes.ENTER:
            e.stopPropagation();
            e.preventDefault();
            killSelectReaction_1.default(target, handlerParams);
            if (state.isOpen) {
                actions.selectOption(state.focusedIndex);
            }
            else {
                actions.open(detectBodyCollision_1.default(state, dom, config), function () { return detectIsScrollable_1.default(dom); }, dom.optionHeight);
            }
            break;
        case KeyCodes.ESC:
            actions.close();
            break;
    }
}
exports.default = handleSelectKeydown;


/***/ }),

/***/ "./src/Events/Handlers/handleSelectKeydownDown.ts":
/*!********************************************************!*\
  !*** ./src/Events/Handlers/handleSelectKeydownDown.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var detectBodyCollision_1 = __webpack_require__(/*! ../../Shared/Util/detectBodyCollision */ "./src/Shared/Util/detectBodyCollision.ts");
var detectIsScrollable_1 = __webpack_require__(/*! ../../Shared/Util/detectIsScrollable */ "./src/Shared/Util/detectIsScrollable.ts");
var killSelectReaction_1 = __webpack_require__(/*! ../../Shared/Util/killSelectReaction */ "./src/Shared/Util/killSelectReaction.ts");
function handleSelectKeydownDown(e, handlerParams) {
    var metaKey = e.metaKey, target = e.target;
    var state = handlerParams.state, dom = handlerParams.dom, actions = handlerParams.actions, config = handlerParams.config;
    var focusedIndex = state.focusedIndex > -1 ?
        state.focusedIndex : state.selectedIndex;
    var iterations = 0;
    var incrementAmount = 1;
    e.preventDefault();
    killSelectReaction_1.default(target, handlerParams);
    if (metaKey) {
        incrementAmount = Math.round(Math.max(state.totalOptions / 2, config.behavior.maxVisibleOptions));
    }
    do {
        focusedIndex += incrementAmount;
        incrementAmount = 1;
        if (focusedIndex >= state.totalOptions) {
            focusedIndex = config.behavior.loop ? 0 : state.totalOptions - 1;
        }
        actions.focusOption(focusedIndex, true);
        iterations++;
    } while (state.focusedOption &&
        state.focusedOption.isDisabled &&
        iterations <= state.totalOptions);
    if (state.isClosed) {
        actions.open(detectBodyCollision_1.default(state, dom, config), function () { return detectIsScrollable_1.default(dom); }, dom.optionHeight);
        return;
    }
}
exports.default = handleSelectKeydownDown;


/***/ }),

/***/ "./src/Events/Handlers/handleSelectKeydownUp.ts":
/*!******************************************************!*\
  !*** ./src/Events/Handlers/handleSelectKeydownUp.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var detectBodyCollision_1 = __webpack_require__(/*! ../../Shared/Util/detectBodyCollision */ "./src/Shared/Util/detectBodyCollision.ts");
var detectIsScrollable_1 = __webpack_require__(/*! ../../Shared/Util/detectIsScrollable */ "./src/Shared/Util/detectIsScrollable.ts");
var killSelectReaction_1 = __webpack_require__(/*! ../../Shared/Util/killSelectReaction */ "./src/Shared/Util/killSelectReaction.ts");
function handleSelectKeydownUp(e, handlerParams) {
    var metaKey = e.metaKey, target = e.target;
    var state = handlerParams.state, config = handlerParams.config, dom = handlerParams.dom, actions = handlerParams.actions;
    var focusedIndex = state.focusedIndex > -1 ?
        state.focusedIndex : state.selectedIndex;
    var iterations = 0;
    var incrementAmount = 1;
    e.preventDefault();
    killSelectReaction_1.default(target, handlerParams);
    if (metaKey) {
        incrementAmount = Math.round(Math.max(state.totalOptions / 2, config.behavior.maxVisibleOptions));
    }
    do {
        focusedIndex -= incrementAmount;
        incrementAmount = 1;
        if (focusedIndex < 0) {
            focusedIndex = config.behavior.loop ? state.totalOptions - 1 : 0;
        }
        actions.focusOption(focusedIndex, true);
        iterations++;
    } while (state.focusedOption &&
        state.focusedOption.isDisabled &&
        iterations < state.totalOptions);
    if (state.isClosed) {
        actions.open(detectBodyCollision_1.default(state, dom, config), function () { return detectIsScrollable_1.default(dom); }, dom.optionHeight);
    }
}
exports.default = handleSelectKeydownUp;


/***/ }),

/***/ "./src/Events/Handlers/handleSelectKeypress.ts":
/*!*****************************************************!*\
  !*** ./src/Events/Handlers/handleSelectKeypress.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var KeyCodes = __webpack_require__(/*! ../Constants/KeyCodes */ "./src/Events/Constants/KeyCodes.ts");
var SEARCH_RESET_DURATION = 1200;
function handleSelectKeypress(_a, _b, searchResetDuration) {
    var keyCode = _a.keyCode;
    var actions = _b.actions, timers = _b.timers, state = _b.state;
    if (searchResetDuration === void 0) { searchResetDuration = SEARCH_RESET_DURATION; }
    if (state.isUseNativeMode || [KeyCodes.UP, KeyCodes.DOWN].includes(keyCode))
        return;
    window.clearTimeout(timers.searchTimeoutId);
    actions.search();
    timers.searchTimeoutId = window.setTimeout(function () { return actions.resetSearch(); }, searchResetDuration);
}
exports.default = handleSelectKeypress;


/***/ }),

/***/ "./src/Events/Handlers/handleWindowClick.ts":
/*!**************************************************!*\
  !*** ./src/Events/Handlers/handleWindowClick.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function handleWindowClick(_, _a) {
    var state = _a.state, actions = _a.actions, dom = _a.dom;
    if (!state.isOpen)
        return;
    actions.close();
    dom.select.blur();
}
exports.default = handleWindowClick;


/***/ }),

/***/ "./src/Events/bindEvents.ts":
/*!**********************************!*\
  !*** ./src/Events/bindEvents.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var throttle_1 = __webpack_require__(/*! ../Shared/Util/throttle */ "./src/Shared/Util/throttle.ts");
var EventBinding_1 = __webpack_require__(/*! ./EventBinding */ "./src/Events/EventBinding.ts");
var getEventsList_1 = __webpack_require__(/*! ./getEventsList */ "./src/Events/getEventsList.ts");
function bindEvent(handlerParams, eventBindingRaw) {
    var eventBinding = new EventBinding_1.default(eventBindingRaw);
    if (!eventBinding.target)
        return eventBinding;
    var boundHandler = function (e) { return eventBinding.handler(e, handlerParams); };
    if (eventBinding.throttle > 0) {
        eventBinding.boundHandler = throttle_1.default(boundHandler, eventBinding.throttle);
    }
    else {
        eventBinding.boundHandler = boundHandler;
    }
    eventBinding.target.addEventListener(eventBinding.type, eventBinding.boundHandler);
    return eventBinding;
}
exports.bindEvent = bindEvent;
function bindEvents(handlerParams) {
    return getEventsList_1.default(handlerParams.dom).map(bindEvent.bind(null, handlerParams));
}
exports.default = bindEvents;


/***/ }),

/***/ "./src/Events/getEventsList.ts":
/*!*************************************!*\
  !*** ./src/Events/getEventsList.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var handleBodyClick_1 = __webpack_require__(/*! ./Handlers/handleBodyClick */ "./src/Events/Handlers/handleBodyClick.ts");
var handleBodyMouseover_1 = __webpack_require__(/*! ./Handlers/handleBodyMouseover */ "./src/Events/Handlers/handleBodyMouseover.ts");
var handleHeadClick_1 = __webpack_require__(/*! ./Handlers/handleHeadClick */ "./src/Events/Handlers/handleHeadClick.ts");
var handleItemsListScroll_1 = __webpack_require__(/*! ./Handlers/handleItemsListScroll */ "./src/Events/Handlers/handleItemsListScroll.ts");
var handleSelectBlur_1 = __webpack_require__(/*! ./Handlers/handleSelectBlur */ "./src/Events/Handlers/handleSelectBlur.ts");
var handleSelectFocus_1 = __webpack_require__(/*! ./Handlers/handleSelectFocus */ "./src/Events/Handlers/handleSelectFocus.ts");
var handleSelectInvalid_1 = __webpack_require__(/*! ./Handlers/handleSelectInvalid */ "./src/Events/Handlers/handleSelectInvalid.ts");
var handleSelectKeydown_1 = __webpack_require__(/*! ./Handlers/handleSelectKeydown */ "./src/Events/Handlers/handleSelectKeydown.ts");
var handleSelectKeypress_1 = __webpack_require__(/*! ./Handlers/handleSelectKeypress */ "./src/Events/Handlers/handleSelectKeypress.ts");
var handleWindowClick_1 = __webpack_require__(/*! ./Handlers/handleWindowClick */ "./src/Events/Handlers/handleWindowClick.ts");
var handleWindowClick_2 = __webpack_require__(/*! ./Handlers/handleWindowClick */ "./src/Events/Handlers/handleWindowClick.ts");
var getEventsList = function (dom) { return [
    {
        target: dom.head,
        type: 'click',
        handler: handleHeadClick_1.default
    },
    {
        target: dom.body,
        type: 'click',
        handler: handleBodyClick_1.default
    },
    {
        target: dom.body,
        type: 'mouseover',
        handler: handleBodyMouseover_1.default
    },
    {
        target: dom.itemsList,
        type: 'scroll',
        handler: handleItemsListScroll_1.default
    },
    {
        target: dom.select,
        type: 'keydown',
        handler: handleSelectKeydown_1.default
    },
    {
        target: dom.select,
        type: 'invalid',
        handler: handleSelectInvalid_1.default
    },
    {
        target: dom.select,
        type: 'keypress',
        handler: handleSelectKeypress_1.default
    },
    {
        target: dom.select,
        type: 'focus',
        handler: handleSelectFocus_1.default
    },
    {
        target: dom.select,
        type: 'blur',
        handler: handleSelectBlur_1.default
    },
    {
        target: document.documentElement,
        type: 'click',
        handler: handleWindowClick_1.default
    },
    {
        target: window,
        type: 'resize',
        handler: handleWindowClick_2.default,
        throttle: 100
    }
]; };
exports.default = getEventsList;


/***/ }),

/***/ "./src/Renderer/Components/arrow.ts":
/*!******************************************!*\
  !*** ./src/Renderer/Components/arrow.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var arrow = function (_, classNames) { return "<div class=\"" + classNames.arrow + "\"></div>"; };
exports.default = arrow;


/***/ }),

/***/ "./src/Renderer/Components/body.ts":
/*!*****************************************!*\
  !*** ./src/Renderer/Components/body.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var composeClassName_1 = __webpack_require__(/*! ../../Shared/Util/composeClassName */ "./src/Shared/Util/composeClassName.ts");
var group_1 = __webpack_require__(/*! ./group */ "./src/Renderer/Components/group.ts");
function body(state, classNames) {
    var className = composeClassName_1.default([
        classNames.body,
        [state.isAtTop, classNames.bodyAtTop],
        [state.isAtBottom, classNames.bodyAtBottom],
        [state.isScrollable, classNames.bodyScrollable]
    ]);
    var styleAttr = state.isOpen ?
        "style=\"max-height: " + state.maxBodyHeight + "px;\"" : '';
    return ("\n        <div class=\"" + className + "\" data-ref=\"body\">\n            <div class=\"" + classNames.itemsList + "\"\n                data-ref=\"itemsList\"\n                " + styleAttr + ">\n                " + state.groups.map(function (groupState) { return group_1.default(groupState, state, classNames); }).join('') + "\n            </div>\n            <div class=" + classNames.gradientTop + "></div>\n            <div class=" + classNames.gradientBottom + "></div>\n        </div>\n    ");
}
exports.default = body;


/***/ }),

/***/ "./src/Renderer/Components/group.ts":
/*!******************************************!*\
  !*** ./src/Renderer/Components/group.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var composeClassName_1 = __webpack_require__(/*! ../../Shared/Util/composeClassName */ "./src/Shared/Util/composeClassName.ts");
var option_1 = __webpack_require__(/*! ./option */ "./src/Renderer/Components/option.ts");
var group = function (groupState, state, classNames) {
    var className = composeClassName_1.default([
        classNames.group,
        [groupState.isDisabled, classNames.groupDisabled],
        [groupState.hasLabel, classNames.groupHasLabel]
    ]);
    return ("\n        <div class=\"" + className + "\" data-ref=\"group\">\n            " + (groupState.hasLabel ?
        "<div class=\"" + classNames.groupLabel + "\">" + groupState.label + "</div>" : '') + "\n            " + groupState.options.map(function (optionState) { return option_1.default(optionState, state, classNames); }).join('') + "\n        </div>\n    ");
};
exports.default = group;


/***/ }),

/***/ "./src/Renderer/Components/head.ts":
/*!*****************************************!*\
  !*** ./src/Renderer/Components/head.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var arrow_1 = __webpack_require__(/*! ./arrow */ "./src/Renderer/Components/arrow.ts");
var value_1 = __webpack_require__(/*! ./value */ "./src/Renderer/Components/value.ts");
var head = function (state, classNames) { return ("\n    <div class=\"" + classNames.head + "\" data-ref=\"head\">\n        " + value_1.default(state, classNames) + "\n        " + arrow_1.default(state, classNames) + "\n        <select class=\"" + classNames.select + "\" data-ref=\"select\"></select>\n    </div>\n"); };
exports.default = head;


/***/ }),

/***/ "./src/Renderer/Components/option.ts":
/*!*******************************************!*\
  !*** ./src/Renderer/Components/option.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var composeClassName_1 = __webpack_require__(/*! ../../Shared/Util/composeClassName */ "./src/Shared/Util/composeClassName.ts");
function option(optionState, state, classNames) {
    var className = composeClassName_1.default([
        classNames.option,
        [optionState === state.selectedOption, classNames.optionSelected],
        [optionState === state.focusedOption, classNames.optionFocused],
        [optionState.isDisabled, classNames.optionDisabled]
    ]);
    return "<div class=\"" + className + "\" data-ref=\"option\" title=\"" + optionState.label + "\">" + optionState.label + "</div>";
}
exports.default = option;


/***/ }),

/***/ "./src/Renderer/Components/root.ts":
/*!*****************************************!*\
  !*** ./src/Renderer/Components/root.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var composeClassName_1 = __webpack_require__(/*! ../../Shared/Util/composeClassName */ "./src/Shared/Util/composeClassName.ts");
var body_1 = __webpack_require__(/*! ./body */ "./src/Renderer/Components/body.ts");
var head_1 = __webpack_require__(/*! ./head */ "./src/Renderer/Components/head.ts");
var root = function (state, classNames) {
    var className = composeClassName_1.default([
        classNames.root,
        [state.isDisabled, classNames.rootDisabled],
        [state.isInvalid, classNames.rootInvalid],
        [state.isOpen, classNames.rootOpen],
        [state.isFocused, classNames.rootFocused],
        [state.hasValue, classNames.rootHasValue],
        [state.isOpenAbove, classNames.rootOpenAbove],
        [state.isOpenBelow, classNames.rootOpenBelow],
        [state.isUseNativeMode, classNames.rootUseNative]
    ]);
    return ("\n        <div class=\"" + className + "\">\n            " + head_1.default(state, classNames) + "\n            " + (state.isUseNativeMode ? '' : body_1.default(state, classNames)) + "\n        </div>\n    ");
};
exports.default = root;


/***/ }),

/***/ "./src/Renderer/Components/value.ts":
/*!******************************************!*\
  !*** ./src/Renderer/Components/value.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var value = function (state, classNames) {
    return ("\n        <div class=\"" + classNames.value + "\" data-ref=\"value\">\n            " + state.humanReadableValue + "\n        </div>\n    ");
};
exports.default = value;


/***/ }),

/***/ "./src/Renderer/Constants/AttributeChangeType.ts":
/*!*******************************************************!*\
  !*** ./src/Renderer/Constants/AttributeChangeType.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var AttributeChangeType;
(function (AttributeChangeType) {
    AttributeChangeType["ADD"] = "ADD";
    AttributeChangeType["EDIT"] = "EDIT";
    AttributeChangeType["REMOVE"] = "REMOVE";
})(AttributeChangeType || (AttributeChangeType = {}));
exports.default = AttributeChangeType;


/***/ }),

/***/ "./src/Renderer/Constants/DomChangeType.ts":
/*!*************************************************!*\
  !*** ./src/Renderer/Constants/DomChangeType.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var DomChangeType;
(function (DomChangeType) {
    DomChangeType["NONE"] = "NONE";
    DomChangeType["FULL"] = "FULL";
    DomChangeType["REPLACE"] = "REPLACE";
    DomChangeType["INNER"] = "INNER";
    DomChangeType["OUTER"] = "OUTER";
})(DomChangeType = exports.DomChangeType || (exports.DomChangeType = {}));
exports.default = DomChangeType;


/***/ }),

/***/ "./src/Renderer/Dom.ts":
/*!*****************************!*\
  !*** ./src/Renderer/Dom.ts ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Dom = /** @class */ (function () {
    function Dom() {
        this.select = null;
        this.root = null;
        this.head = null;
        this.value = null;
        this.body = null;
        this.arrow = null;
        this.itemsList = null;
        this.group = [];
        this.option = [];
    }
    Object.defineProperty(Dom.prototype, "firstOption", {
        get: function () {
            return this.option[0] || null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Dom.prototype, "optionHeight", {
        get: function () {
            if (!this.firstOption)
                return -1;
            return this.firstOption.offsetHeight;
        },
        enumerable: true,
        configurable: true
    });
    return Dom;
}());
exports.default = Dom;


/***/ }),

/***/ "./src/Renderer/PatchCommand.ts":
/*!**************************************!*\
  !*** ./src/Renderer/PatchCommand.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var PatchCommand = /** @class */ (function () {
    function PatchCommand() {
        this.newNode = null;
        this.newInnerHtml = '';
        this.newTextContent = '';
        this.attributeChanges = [];
        this.childCommands = [];
        this.index = null;
    }
    return PatchCommand;
}());
exports.default = PatchCommand;


/***/ }),

/***/ "./src/Renderer/Renderer.ts":
/*!**********************************!*\
  !*** ./src/Renderer/Renderer.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var createDomElementFromHtml_1 = __webpack_require__(/*! ../Shared/Util/createDomElementFromHtml */ "./src/Shared/Util/createDomElementFromHtml.ts");
var root_1 = __webpack_require__(/*! ./Components/root */ "./src/Renderer/Components/root.ts");
var Dom_1 = __webpack_require__(/*! ./Dom */ "./src/Renderer/Dom.ts");
var domDiff_1 = __webpack_require__(/*! ./domDiff */ "./src/Renderer/domDiff.ts");
var domPatch_1 = __webpack_require__(/*! ./domPatch */ "./src/Renderer/domPatch.ts");
var Renderer = /** @class */ (function () {
    function Renderer(classNames) {
        this.dom = new Dom_1.default();
        this.classNames = classNames;
    }
    Renderer.prototype.render = function (state, selectElement) {
        var html = root_1.default(state, this.classNames);
        var rootElement = createDomElementFromHtml_1.default(html);
        this.dom = new Dom_1.default();
        this.dom.root = rootElement;
        this.dom.option.length = this.dom.group.length = 0;
        Renderer.queryDomRefs(this.dom);
        this.injectSelect(selectElement);
        return this.dom;
    };
    Renderer.prototype.update = function (state, key) {
        var nextHtml = root_1.default(state, this.classNames);
        var nextRoot = createDomElementFromHtml_1.default(nextHtml);
        var diffCommand = domDiff_1.default(this.dom.root, nextRoot);
        domPatch_1.default(this.dom.root, diffCommand);
        if (key === 'selectedIndex') {
            this.syncSelectWithValue(state.value);
        }
    };
    Renderer.prototype.destroy = function () {
        this.dom.select.classList.remove(this.classNames.select);
        try {
            this.dom.root.parentElement.replaceChild(this.dom.select, this.dom.root);
        }
        catch (err) { /**/ }
    };
    Renderer.prototype.injectSelect = function (selectElement) {
        var parent = selectElement.parentElement;
        var tempSelect = this.dom.select;
        if (!parent)
            throw new Error('[EasyDropDown] The provided `<select>` element must exist within a document');
        parent.replaceChild(this.dom.root, selectElement);
        tempSelect.parentElement.replaceChild(selectElement, tempSelect);
        selectElement.className = this.classNames.select;
        this.dom.select = selectElement;
    };
    Renderer.prototype.syncSelectWithValue = function (value) {
        if (this.dom.select.value === value)
            return;
        var event = new CustomEvent('change', {
            bubbles: true
        });
        this.dom.select.value = value;
        this.dom.select.dispatchEvent(event);
    };
    Renderer.queryDomRefs = function (dom, keys) {
        if (keys === void 0) { keys = Object.keys(dom); }
        return keys
            .reduce(function (localDom, ref) {
            var selector = "[data-ref=\"" + ref + "\"]";
            var elements = localDom.root.querySelectorAll(selector);
            if (elements.length < 1 || ref === 'root')
                return localDom;
            var element = elements[0];
            var value = localDom[ref];
            if (value === null) {
                localDom[ref] = element;
            }
            else if (Array.isArray(value)) {
                Array.prototype.push.apply(value, elements);
            }
            return localDom;
        }, dom);
    };
    return Renderer;
}());
exports.default = Renderer;


/***/ }),

/***/ "./src/Renderer/domDiff.ts":
/*!*********************************!*\
  !*** ./src/Renderer/domDiff.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var helpful_merge_1 = __webpack_require__(/*! helpful-merge */ "./node_modules/helpful-merge/dist/index.js");
var AttributeChangeType_1 = __webpack_require__(/*! ./Constants/AttributeChangeType */ "./src/Renderer/Constants/AttributeChangeType.ts");
var DomChangeType_1 = __webpack_require__(/*! ./Constants/DomChangeType */ "./src/Renderer/Constants/DomChangeType.ts");
var PatchCommand_1 = __webpack_require__(/*! ./PatchCommand */ "./src/Renderer/PatchCommand.ts");
function domDiff(prev, next) {
    var totalChildNodes = -1;
    var command = new PatchCommand_1.default();
    if (prev instanceof HTMLSelectElement) {
        command.type = DomChangeType_1.default.NONE;
        return command;
    }
    if (prev instanceof Text && next instanceof Text) {
        if (prev.textContent === next.textContent) {
            command.type = DomChangeType_1.default.NONE;
        }
        else {
            command.type = DomChangeType_1.default.INNER;
            command.newTextContent = next.textContent;
        }
    }
    else if (prev instanceof HTMLElement && next instanceof HTMLElement) {
        if (prev.tagName !== next.tagName) {
            command.type = DomChangeType_1.default.REPLACE;
            command.newNode = next;
        }
        else if (prev.outerHTML === next.outerHTML) {
            command.type = DomChangeType_1.default.NONE;
        }
        else if (prev.innerHTML === next.innerHTML) {
            helpful_merge_1.default(command, diffAttributeChanges(prev, next));
        }
        else {
            helpful_merge_1.default(command, diffAttributeChanges(prev, next));
            if (command.attributeChanges.length > 0) {
                command.type = DomChangeType_1.default.FULL;
            }
            else {
                command.type = DomChangeType_1.default.INNER;
            }
            if ((totalChildNodes = prev.childNodes.length) > 0 && totalChildNodes === next.childNodes.length) {
                for (var i = 0, childNode = void 0; (childNode = prev.childNodes[i]); i++) {
                    command.childCommands.push(domDiff(childNode, next.childNodes[i]));
                }
            }
            else {
                command.newInnerHtml = next.innerHTML;
            }
        }
    }
    else {
        command.type = DomChangeType_1.default.REPLACE;
        command.newNode = next;
    }
    return command;
}
function diffAttributeChanges(prev, next) {
    var totalAttributes = Math.max(prev.attributes.length, next.attributes.length);
    var attributesMap = {};
    var undef = void (0);
    var attributeChanges = [];
    for (var i = 0; i < totalAttributes; i++) {
        var attr1 = prev.attributes[i];
        var attr2 = next.attributes[i];
        if (attr1 && attributesMap[attr1.name] === undef) {
            attributesMap[attr1.name] = [];
        }
        if (attr2 && attributesMap[attr2.name] === undef) {
            attributesMap[attr2.name] = [];
        }
        if (attr1)
            attributesMap[attr1.name][0] = attr1.value;
        if (attr2)
            attributesMap[attr2.name][1] = attr2.value;
    }
    var keys = Object.keys(attributesMap);
    if (keys.length > 1) {
        keys.sort();
    }
    for (var i = 0, key = void 0; (key = keys[i]); i++) {
        var attr = attributesMap[key];
        var change = {
            type: null,
            name: key,
            value: null
        };
        if (attr[0] === attr[1])
            continue;
        if (attr[0] === undef) {
            change.type = AttributeChangeType_1.default.ADD;
            change.value = attr[1];
        }
        else if (attr[1] === undef) {
            change.type = AttributeChangeType_1.default.REMOVE,
                change.value = '';
        }
        else {
            change.type = AttributeChangeType_1.default.EDIT,
                change.value = attr[1];
        }
        attributeChanges.push(change);
    }
    return {
        type: DomChangeType_1.default.OUTER,
        attributeChanges: attributeChanges
    };
}
exports.default = domDiff;


/***/ }),

/***/ "./src/Renderer/domPatch.ts":
/*!**********************************!*\
  !*** ./src/Renderer/domPatch.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var AttributeChangeType_1 = __webpack_require__(/*! ./Constants/AttributeChangeType */ "./src/Renderer/Constants/AttributeChangeType.ts");
var DomChangeType_1 = __webpack_require__(/*! ./Constants/DomChangeType */ "./src/Renderer/Constants/DomChangeType.ts");
function domPatch(node, command) {
    switch (command.type) {
        case DomChangeType_1.default.NONE:
            return node;
        case DomChangeType_1.default.REPLACE:
            node.parentElement.replaceChild(command.newNode, node);
            return command.newNode;
        case DomChangeType_1.default.INNER:
            if (node instanceof Text) {
                node.textContent = command.newTextContent;
            }
            else if (command.childCommands.length > 0) {
                command.childCommands.forEach(function (childCommand, i) { return domPatch(node.childNodes[i], childCommand); });
            }
            else {
                node.innerHTML = command.newInnerHtml;
            }
            return node;
        case DomChangeType_1.default.OUTER:
            patchAttributes(node, command.attributeChanges);
            return node;
        case DomChangeType_1.default.FULL:
            if (command.childCommands.length > 0) {
                command.childCommands.forEach(function (childCommand, i) { return domPatch(node.childNodes[i], childCommand); });
            }
            else {
                node.innerHTML = command.newInnerHtml;
            }
            patchAttributes(node, command.attributeChanges);
            return node;
    }
}
function patchAttributes(el, attributeChanges) {
    var raf = window.requestAnimationFrame;
    attributeChanges.forEach(function (change) {
        if (raf && ['class', 'style'].indexOf(change.name) > -1) {
            raf(function () { return patchAttribute(el, change); });
        }
        else {
            patchAttribute(el, change);
        }
    });
}
function patchAttribute(el, change) {
    switch (change.type) {
        case AttributeChangeType_1.default.ADD:
        case AttributeChangeType_1.default.EDIT:
            el.setAttribute(change.name, change.value);
            break;
        case AttributeChangeType_1.default.REMOVE:
            el.removeAttribute(change.name);
            break;
    }
}
exports.default = domPatch;


/***/ }),

/***/ "./src/Shared/Polyfills/Element.matches.ts":
/*!*************************************************!*\
  !*** ./src/Shared/Polyfills/Element.matches.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

if (!Element.prototype.matches) {
    Element.prototype.matches = Element.prototype.msMatchesSelector;
}


/***/ }),

/***/ "./src/Shared/Util/Constants/CollisionType.ts":
/*!****************************************************!*\
  !*** ./src/Shared/Util/Constants/CollisionType.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var CollisionType;
(function (CollisionType) {
    CollisionType["NONE"] = "NONE";
    CollisionType["TOP"] = "TOP";
    CollisionType["BOTTOM"] = "BOTTOM";
})(CollisionType || (CollisionType = {}));
exports.default = CollisionType;


/***/ }),

/***/ "./src/Shared/Util/closestParent.ts":
/*!******************************************!*\
  !*** ./src/Shared/Util/closestParent.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * Returns the closest parent of a given element matching the
 * provided selector, optionally including the element itself.
 */
Object.defineProperty(exports, "__esModule", { value: true });
function closestParent(el, selector, includeSelf) {
    if (includeSelf === void 0) { includeSelf = false; }
    var parent = el.parentNode;
    if (includeSelf && el.matches(selector)) {
        return el;
    }
    while (parent && parent !== document.body) {
        if (parent.matches && parent.matches(selector)) {
            return parent;
        }
        else if (parent.parentNode) {
            parent = parent.parentNode;
        }
        else {
            return null;
        }
    }
    return null;
}
exports.default = closestParent;


/***/ }),

/***/ "./src/Shared/Util/composeClassName.ts":
/*!*********************************************!*\
  !*** ./src/Shared/Util/composeClassName.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function composeClassName(tokens) {
    return tokens
        .reduce(function (classNames, token) {
        if (typeof token === 'string')
            classNames.push(token);
        else {
            var predicate = token[0], className = token[1];
            if (predicate)
                classNames.push(className);
        }
        return classNames;
    }, [])
        .join(' ');
}
exports.default = composeClassName;


/***/ }),

/***/ "./src/Shared/Util/createDomElementFromHtml.ts":
/*!*****************************************************!*\
  !*** ./src/Shared/Util/createDomElementFromHtml.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function createDomElementFromHtml(html) {
    var temp = document.createElement('div');
    temp.innerHTML = html;
    return temp.firstElementChild;
}
exports.default = createDomElementFromHtml;


/***/ }),

/***/ "./src/Shared/Util/detectBodyCollision.ts":
/*!************************************************!*\
  !*** ./src/Shared/Util/detectBodyCollision.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var CollisionType_1 = __webpack_require__(/*! ./Constants/CollisionType */ "./src/Shared/Util/Constants/CollisionType.ts");
function mapCollisionData(deltaTop, deltaBottom, maxHeight, optionHeight) {
    var type = CollisionType_1.default.NONE;
    var maxVisibleOptionsOverride = -1;
    if (deltaTop <= maxHeight && deltaBottom <= maxHeight) {
        var largestDelta = Math.max(deltaBottom, deltaTop);
        type = deltaTop < deltaBottom ? CollisionType_1.default.TOP : CollisionType_1.default.BOTTOM,
            maxVisibleOptionsOverride = Math.floor(largestDelta / optionHeight);
    }
    else if (deltaTop <= maxHeight) {
        type = CollisionType_1.default.TOP;
    }
    else if (deltaBottom <= maxHeight) {
        type = CollisionType_1.default.BOTTOM;
    }
    return { type: type, maxVisibleOptionsOverride: maxVisibleOptionsOverride };
}
exports.mapCollisionData = mapCollisionData;
function detectBodyCollision(state, dom, config) {
    var bbHead = dom.head.getBoundingClientRect();
    var wh = window.innerHeight;
    var deltaTop = bbHead.top;
    var deltaBottom = wh - bbHead.bottom;
    if (!dom.firstOption)
        return {
            type: CollisionType_1.default.NONE,
            maxVisibleOptionsOverride: -1
        };
    var visibleOptions = Math.min(config.behavior.maxVisibleOptions, state.totalOptions);
    var maxHeight = visibleOptions * dom.optionHeight;
    return mapCollisionData(deltaTop, deltaBottom, maxHeight, dom.optionHeight);
}
exports.default = detectBodyCollision;


/***/ }),

/***/ "./src/Shared/Util/detectIsScrollable.ts":
/*!***********************************************!*\
  !*** ./src/Shared/Util/detectIsScrollable.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function detectIsScrollable(dom) {
    var scrollHeight = dom.itemsList.scrollHeight;
    var offsetHeight = dom.body.offsetHeight;
    if (scrollHeight > offsetHeight) {
        return true;
    }
    return false;
}
exports.default = detectIsScrollable;


/***/ }),

/***/ "./src/Shared/Util/killSelectReaction.ts":
/*!***********************************************!*\
  !*** ./src/Shared/Util/killSelectReaction.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var killSelectReaction = function (select, _a) {
    var actions = _a.actions, timers = _a.timers;
    var keyingResetDuration = 100;
    window.clearTimeout(timers.keyingTimeoutId);
    actions.keying();
    timers.keyingTimeoutId = window.setTimeout(function () { return actions.resetKeying(); }, keyingResetDuration);
    select.disabled = true;
    setTimeout(function () {
        select.disabled = false;
        select.focus();
    });
};
exports.default = killSelectReaction;


/***/ }),

/***/ "./src/Shared/Util/pollForSelectChange.ts":
/*!************************************************!*\
  !*** ./src/Shared/Util/pollForSelectChange.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var POLL_INTERVAL_DURATION = 100;
function pollForSelectChange(selectElement, state, actions) {
    var lastValue = selectElement.value;
    var pollIntervalId = window.setInterval(function () {
        if (selectElement.value !== lastValue) {
            var selectedIndex = state.getOptionIndexFromValue(selectElement.value);
            actions.selectOption(selectedIndex);
            actions.focusOption(selectedIndex, true);
        }
        lastValue = selectElement.value;
    }, POLL_INTERVAL_DURATION);
    return pollIntervalId;
}
exports.default = pollForSelectChange;


/***/ }),

/***/ "./src/Shared/Util/pollForSelectMutation.ts":
/*!**************************************************!*\
  !*** ./src/Shared/Util/pollForSelectMutation.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var POLL_INTERVAL_DURATION = 300;
function pollForSelectMutation(selectElement, state, handleMutation) {
    var lastOuterHtml = selectElement.outerHTML;
    var pollIntervalId = window.setInterval(function () {
        var outerHTML = selectElement.outerHTML;
        if (outerHTML !== lastOuterHtml && !state.isKeying) {
            handleMutation();
        }
        lastOuterHtml = outerHTML;
    }, POLL_INTERVAL_DURATION);
    return pollIntervalId;
}
exports.default = pollForSelectMutation;


/***/ }),

/***/ "./src/Shared/Util/setGeometry.ts":
/*!****************************************!*\
  !*** ./src/Shared/Util/setGeometry.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var detectIsScrollable_1 = __webpack_require__(/*! ./detectIsScrollable */ "./src/Shared/Util/detectIsScrollable.ts");
function setGeometry(state, actions, dom) {
    if (!dom.body)
        return;
    var isScrollable = detectIsScrollable_1.default(dom);
    if (isScrollable && !state.isScrollable) {
        actions.makeScrollable();
    }
    else if (!isScrollable && state.isScrollable) {
        actions.makeUnscrollable();
    }
    actions.setOptionHeight(dom.optionHeight);
}
exports.default = setGeometry;


/***/ }),

/***/ "./src/Shared/Util/throttle.ts":
/*!*************************************!*\
  !*** ./src/Shared/Util/throttle.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function throttle(handler, delay) {
    var timerId = null;
    var last = -Infinity;
    return function () {
        var _this = this;
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var now = Date.now();
        var later = function () {
            timerId = null;
            handler.apply(_this, args);
            last = now;
        };
        var difference = now - last;
        if (difference >= delay) {
            later();
        }
        else {
            clearTimeout(timerId);
            timerId = setTimeout(later, delay - difference);
        }
    };
}
exports.default = throttle;


/***/ }),

/***/ "./src/State/Constants/BodyStatus.ts":
/*!*******************************************!*\
  !*** ./src/State/Constants/BodyStatus.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var BodyStatus;
(function (BodyStatus) {
    BodyStatus["CLOSED"] = "CLOSED";
    BodyStatus["OPEN_ABOVE"] = "OPEN_ABOVE";
    BodyStatus["OPEN_BELOW"] = "OPEN_BELOW";
})(BodyStatus || (BodyStatus = {}));
exports.default = BodyStatus;


/***/ }),

/***/ "./src/State/Constants/ScrollStatus.ts":
/*!*********************************************!*\
  !*** ./src/State/Constants/ScrollStatus.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ScrollStatus;
(function (ScrollStatus) {
    ScrollStatus["AT_TOP"] = "AT_TOP";
    ScrollStatus["SCROLLED"] = "SCROLLED";
    ScrollStatus["AT_BOTTOM"] = "AT_BOTTOM";
})(ScrollStatus || (ScrollStatus = {}));
exports.default = ScrollStatus;


/***/ }),

/***/ "./src/State/Group.ts":
/*!****************************!*\
  !*** ./src/State/Group.ts ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Group = /** @class */ (function () {
    function Group() {
        this.label = '';
        this.options = [];
        this.isDisabled = false;
    }
    Object.defineProperty(Group.prototype, "totalOptions", {
        get: function () {
            return this.options.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Group.prototype, "hasLabel", {
        get: function () {
            return this.label !== '';
        },
        enumerable: true,
        configurable: true
    });
    return Group;
}());
exports.default = Group;


/***/ }),

/***/ "./src/State/InjectedActions/closeOthers.ts":
/*!**************************************************!*\
  !*** ./src/State/InjectedActions/closeOthers.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function closeOthers(thisInstance, cache) {
    for (var _i = 0, cache_1 = cache; _i < cache_1.length; _i++) {
        var instance = cache_1[_i];
        if (instance !== thisInstance)
            instance.actions.close();
    }
}
exports.default = closeOthers;


/***/ }),

/***/ "./src/State/InjectedActions/scrollToView.ts":
/*!***************************************************!*\
  !*** ./src/State/InjectedActions/scrollToView.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function getScrollTop(currentScrollTop, optionOffsetTop, optionHeight, bodyHeight, scrollOffset) {
    var max = currentScrollTop + bodyHeight;
    var remainder;
    if (optionOffsetTop < currentScrollTop) {
        return optionOffsetTop - scrollOffset;
    }
    else if ((remainder = (optionOffsetTop + optionHeight) - max) > 0) {
        return currentScrollTop + remainder + scrollOffset;
    }
    return currentScrollTop;
}
exports.getScrollTop = getScrollTop;
function scrollToView(dom, timers, state, scrollToMiddle) {
    if (scrollToMiddle === void 0) { scrollToMiddle = false; }
    var index = Math.max(0, state.focusedIndex > -1 ? state.focusedIndex : state.selectedIndex);
    var option = dom.option[index];
    if (!option)
        return;
    var offset = scrollToMiddle ? (state.maxBodyHeight / 2) - (option.offsetHeight / 2) : 0;
    var scrollTop = getScrollTop(dom.itemsList.scrollTop, option.offsetTop, option.offsetHeight, state.maxBodyHeight, offset);
    if (scrollTop === dom.itemsList.scrollTop)
        return;
    dom.itemsList.scrollTop = scrollTop;
}
exports.default = scrollToView;


/***/ }),

/***/ "./src/State/Option.ts":
/*!*****************************!*\
  !*** ./src/State/Option.ts ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Option = /** @class */ (function () {
    function Option() {
        this.label = '';
        this.value = '';
        this.isDisabled = false;
    }
    return Option;
}());
exports.default = Option;


/***/ }),

/***/ "./src/State/State.ts":
/*!****************************!*\
  !*** ./src/State/State.ts ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var helpful_merge_1 = __webpack_require__(/*! helpful-merge */ "./node_modules/helpful-merge/dist/index.js");
var Config_1 = __webpack_require__(/*! ../Config/Config */ "./src/Config/Config.ts");
var BodyStatus_1 = __webpack_require__(/*! ./Constants/BodyStatus */ "./src/State/Constants/BodyStatus.ts");
var ScrollStatus_1 = __webpack_require__(/*! ./Constants/ScrollStatus */ "./src/State/Constants/ScrollStatus.ts");
var Group_1 = __webpack_require__(/*! ./Group */ "./src/State/Group.ts");
var Option_1 = __webpack_require__(/*! ./Option */ "./src/State/Option.ts");
var State = /** @class */ (function () {
    function State(stateRaw, config) {
        if (stateRaw === void 0) { stateRaw = null; }
        if (config === void 0) { config = new Config_1.default(); }
        this.groups = [];
        this.focusedIndex = -1;
        this.selectedIndex = -1;
        this.optionHeight = -1;
        this.maxVisibleOptionsOverride = -1;
        this.name = '';
        this.placeholder = '';
        this.scrollStatus = ScrollStatus_1.default.AT_TOP;
        this.bodyStatus = BodyStatus_1.default.CLOSED;
        this.isDisabled = false;
        this.isInvalid = false;
        this.isFocused = false;
        this.isUseNativeMode = false;
        this.isScrollable = false;
        this.isSearching = false;
        this.isKeying = false;
        this.config = config;
        if (!stateRaw)
            return;
        helpful_merge_1.default(this, stateRaw);
        this.groups = this.groups.map(function (groupRaw) {
            var group = helpful_merge_1.default(new Group_1.default(), groupRaw);
            group.options = group.options.map(function (optionRaw) { return helpful_merge_1.default(new Option_1.default(), optionRaw); });
            return group;
        });
    }
    Object.defineProperty(State.prototype, "totalGroups", {
        get: function () {
            return this.groups.length;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "lastGroup", {
        get: function () {
            return this.groups[this.groups.length - 1];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "totalOptions", {
        get: function () {
            return this.groups.reduce(function (total, group) { return total + group.totalOptions; }, 0);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "selectedOption", {
        get: function () {
            return this.getOptionFromIndex(this.selectedIndex);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "focusedOption", {
        get: function () {
            return this.getOptionFromIndex(this.focusedIndex);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "value", {
        get: function () {
            return this.selectedOption ? this.selectedOption.value : '';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "humanReadableValue", {
        get: function () {
            if ((!this.hasValue && this.hasPlaceholder) ||
                (this.config.behavior.showPlaceholderWhenOpen &&
                    this.hasPlaceholder &&
                    this.isOpen)) {
                return this.placeholder;
            }
            return this.label;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "label", {
        get: function () {
            return this.selectedOption ? this.selectedOption.label : '';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "hasPlaceholder", {
        get: function () {
            return this.placeholder !== '';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "hasValue", {
        get: function () {
            return this.value !== '';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "isGrouped", {
        get: function () {
            return Boolean(this.groups.find(function (group) { return group.hasLabel; }));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "isOpen", {
        get: function () {
            return this.bodyStatus !== BodyStatus_1.default.CLOSED;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "isClosed", {
        get: function () {
            return this.bodyStatus === BodyStatus_1.default.CLOSED;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "isOpenAbove", {
        get: function () {
            return this.bodyStatus === BodyStatus_1.default.OPEN_ABOVE;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "isOpenBelow", {
        get: function () {
            return this.bodyStatus === BodyStatus_1.default.OPEN_BELOW;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "isAtTop", {
        get: function () {
            return this.scrollStatus === ScrollStatus_1.default.AT_TOP;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "isAtBottom", {
        get: function () {
            return this.scrollStatus === ScrollStatus_1.default.AT_BOTTOM;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(State.prototype, "maxBodyHeight", {
        get: function () {
            var maxVisibleOptions = (this.maxVisibleOptionsOverride > -1 &&
                this.config.behavior.clampMaxVisibleOptions) ?
                this.maxVisibleOptionsOverride :
                this.config.behavior.maxVisibleOptions;
            return Math.max(0, this.optionHeight * maxVisibleOptions);
        },
        enumerable: true,
        configurable: true
    });
    State.prototype.getOptionFromIndex = function (index) {
        var groupStartIndex = 0;
        for (var _i = 0, _a = this.groups; _i < _a.length; _i++) {
            var group = _a[_i];
            if (index < 0)
                break;
            var groupEndIndex = Math.max(0, groupStartIndex + group.totalOptions - 1);
            if (index <= groupEndIndex) {
                var option = group.options[index - groupStartIndex];
                return option;
            }
            groupStartIndex += group.totalOptions;
        }
        return null;
    };
    State.prototype.getOptionIndexFromValue = function (value) {
        var index = -1;
        for (var _i = 0, _a = this.groups; _i < _a.length; _i++) {
            var group = _a[_i];
            for (var _b = 0, _c = group.options; _b < _c.length; _b++) {
                var option = _c[_b];
                index++;
                if (option.value === value) {
                    return index;
                }
            }
        }
        return -1;
    };
    return State;
}());
exports.default = State;


/***/ }),

/***/ "./src/State/StateManager.ts":
/*!***********************************!*\
  !*** ./src/State/StateManager.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var helpful_merge_1 = __webpack_require__(/*! helpful-merge */ "./node_modules/helpful-merge/dist/index.js");
var resolveActions_1 = __webpack_require__(/*! ./resolveActions */ "./src/State/resolveActions.ts");
var StateManager = /** @class */ (function () {
    function StateManager() {
    }
    StateManager.proxyActions = function (state, injectedActions, onAction) {
        var stateProxy = StateManager.createStateProxy(state, onAction);
        var actions = resolveActions_1.default(stateProxy);
        helpful_merge_1.default(actions, injectedActions);
        return actions;
    };
    StateManager.createStateProxy = function (state, onAction) {
        return Object.seal(StateManager
            .getPropertyDescriptorsFromValue(state, onAction)
            .reduce(function (proxy, _a) {
            var key = _a.key, get = _a.get, set = _a.set;
            return Object.defineProperty(proxy, key, {
                enumerable: true,
                get: get,
                set: set
            });
        }, {}));
    };
    StateManager.getPropertyDescriptorsFromValue = function (state, onAction) {
        var prototype = Object.getPrototypeOf(state);
        var allKeys = Object.keys(state).concat(Object.keys(prototype));
        return allKeys
            .reduce(function (localDescriptors, key) {
            var propertyDescriptor = Object.getOwnPropertyDescriptor(state, key) ||
                Object.getOwnPropertyDescriptor(prototype, key);
            var isAccessorProperty = typeof propertyDescriptor.get === 'function';
            localDescriptors.push({
                get: StateManager.readPropertyValue.bind(null, state, key),
                set: isAccessorProperty ?
                    void 0 : StateManager.updatePropertyValue.bind(null, state, key, onAction),
                key: key
            });
            return localDescriptors;
        }, []);
    };
    StateManager.readPropertyValue = function (state, key) {
        return state[key];
    };
    StateManager.updatePropertyValue = function (state, key, onAction, value) {
        if (state[key] === value)
            return;
        state[key] = value;
        onAction(state, key);
    };
    return StateManager;
}());
exports.default = StateManager;


/***/ }),

/***/ "./src/State/StateMapper.ts":
/*!**********************************!*\
  !*** ./src/State/StateMapper.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var helpful_merge_1 = __webpack_require__(/*! helpful-merge */ "./node_modules/helpful-merge/dist/index.js");
var Group_1 = __webpack_require__(/*! ./Group */ "./src/State/Group.ts");
var Option_1 = __webpack_require__(/*! ./Option */ "./src/State/Option.ts");
var State_1 = __webpack_require__(/*! ./State */ "./src/State/State.ts");
var StateMapper = /** @class */ (function () {
    function StateMapper() {
    }
    StateMapper.mapFromSelect = function (selectElement, config) {
        var state = new State_1.default(null, config);
        var isWithinGroup = false;
        state.name = selectElement.name;
        state.isDisabled = selectElement.disabled;
        state.isUseNativeMode = StateMapper.isMobilePlatform(window.navigator.userAgent);
        for (var i = 0, child = void 0; (child = selectElement.children[i]); i++) {
            if (i === 0 && child.getAttribute('data-placeholder') !== null) {
                state.placeholder = child.textContent;
                child.value = '';
                continue;
            }
            if (child instanceof HTMLOptionElement) {
                if (isWithinGroup === false) {
                    state.groups.push(StateMapper.mapGroup());
                    isWithinGroup = true;
                }
                state.lastGroup.options.push(StateMapper.mapOption(child));
                if (child.selected)
                    state.selectedIndex = state.totalOptions - 1;
            }
            else if (child instanceof HTMLOptGroupElement) {
                isWithinGroup = true;
                state.groups.push(StateMapper.mapGroup(child));
                for (var j = 0, groupChild = void 0; (groupChild = child.children[j]); j++) {
                    state.lastGroup.options.push(StateMapper.mapOption(groupChild, child));
                    if (groupChild.selected)
                        state.selectedIndex = state.totalOptions - 1;
                }
                isWithinGroup = false;
            }
            else {
                throw new TypeError("[EasyDropDown] Invalid child tag \"" + child.tagName + "\" found in provided `<select>` element");
            }
        }
        return Object.seal(state);
    };
    StateMapper.mapGroup = function (group) {
        if (group === void 0) { group = null; }
        return helpful_merge_1.default(new Group_1.default(), {
            label: group ? group.label : '',
            isDisabled: group ? group.disabled : false
        });
    };
    StateMapper.mapOption = function (option, group) {
        if (group === void 0) { group = null; }
        if (!(option instanceof HTMLOptionElement))
            throw new TypeError('[EasyDropDown] Invalid markup structure');
        var isParentGroupDisabled = group !== null && group.disabled;
        return helpful_merge_1.default(new Option_1.default(), {
            label: option.textContent,
            value: option.value,
            isDisabled: option.disabled || isParentGroupDisabled
        });
    };
    StateMapper.isMobilePlatform = function (userAgent) {
        var isIos = /(ipad|iphone|ipod)/gi.test(userAgent);
        var isAndroid = /android/gi.test(userAgent);
        var isOperaMini = /opera mini/gi.test(userAgent);
        var isWindowsPhone = /windows phone/gi.test(userAgent);
        if (isIos || isAndroid || isOperaMini || isWindowsPhone) {
            return true;
        }
        return false;
    };
    return StateMapper;
}());
exports.default = StateMapper;


/***/ }),

/***/ "./src/State/resolveActions.ts":
/*!*************************************!*\
  !*** ./src/State/resolveActions.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var CollisionType_1 = __webpack_require__(/*! ../Shared/Util/Constants/CollisionType */ "./src/Shared/Util/Constants/CollisionType.ts");
var BodyStatus_1 = __webpack_require__(/*! ./Constants/BodyStatus */ "./src/State/Constants/BodyStatus.ts");
var ScrollStatus_1 = __webpack_require__(/*! ./Constants/ScrollStatus */ "./src/State/Constants/ScrollStatus.ts");
var resolveActions = function (state) { return ({
    focus: function () {
        state.isFocused = true;
    },
    blur: function () {
        state.isFocused = false;
    },
    invalidate: function () {
        state.isInvalid = true;
    },
    validate: function () {
        state.isInvalid = false;
    },
    topOut: function () {
        state.scrollStatus = ScrollStatus_1.default.AT_TOP;
    },
    bottomOut: function () {
        state.scrollStatus = ScrollStatus_1.default.AT_BOTTOM;
    },
    scroll: function () {
        state.scrollStatus = ScrollStatus_1.default.SCROLLED;
    },
    makeScrollable: function () {
        state.isScrollable = true;
    },
    makeUnscrollable: function () {
        state.isScrollable = false;
    },
    setOptionHeight: function (optionHeight) {
        state.optionHeight = optionHeight;
    },
    open: function (collisionData, getIsScrollableStatus, optionHeight) {
        var _this = this;
        if (state.isDisabled)
            return;
        this.setOptionHeight(optionHeight);
        this.closeOthers();
        state.maxVisibleOptionsOverride = collisionData.maxVisibleOptionsOverride;
        switch (collisionData.type) {
            case CollisionType_1.default.NONE:
            case CollisionType_1.default.TOP:
                state.bodyStatus = BodyStatus_1.default.OPEN_BELOW;
                break;
            case CollisionType_1.default.BOTTOM:
                state.bodyStatus = BodyStatus_1.default.OPEN_ABOVE;
                break;
        }
        window.requestAnimationFrame(function () {
            var isScrollable = getIsScrollableStatus();
            if (isScrollable && !state.isScrollable) {
                _this.makeScrollable();
            }
            else if (!isScrollable && state.isScrollable) {
                _this.makeUnscrollable();
            }
            _this.scrollToView(state, true);
        });
    },
    close: function () {
        state.bodyStatus = BodyStatus_1.default.CLOSED;
        state.focusedIndex = -1;
    },
    selectOption: function (index) {
        var optionAtIndex = state.getOptionFromIndex(index);
        if (optionAtIndex.isDisabled)
            return;
        state.selectedIndex = index;
        if (state.isInvalid) {
            this.validate();
        }
        if (state.isSearching) {
            this.scrollToView(state);
        }
        else {
            this.close();
        }
    },
    focusOption: function (index, shouldScrollToView) {
        if (shouldScrollToView === void 0) { shouldScrollToView = false; }
        var scrollToMiddle = Math.abs(index - state.focusedIndex) > 1;
        state.focusedIndex = index;
        if (shouldScrollToView) {
            this.scrollToView(state, scrollToMiddle);
        }
    },
    search: function () {
        state.isSearching = true;
    },
    resetSearch: function () {
        state.isSearching = false;
    },
    keying: function () {
        state.isKeying = true;
    },
    resetKeying: function () {
        state.isKeying = false;
    },
    useNative: function () {
        state.isUseNativeMode = true;
    }
}); };
exports.default = resolveActions;


/***/ }),

/***/ "./src/umd.ts":
/*!********************!*\
  !*** ./src/umd.ts ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
__webpack_require__(/*! custom-event-polyfill */ "./node_modules/custom-event-polyfill/custom-event-polyfill.js");
__webpack_require__(/*! ./Shared/Polyfills/Element.matches */ "./src/Shared/Polyfills/Element.matches.ts");
var factory_1 = __webpack_require__(/*! ./Easydropdown/factory */ "./src/Easydropdown/factory.ts");
module.exports = factory_1.default;


/***/ })

/******/ });
});
//# sourceMappingURL=easydropdown.min.js.map